# ==================================================
# HeyGen Configuration (Required)
# ==================================================

# HeyGen API key - Get from https://app.heygen.com/settings/api-keys
HEYGEN_API_KEY=your_heygen_api_key_here

# HeyGen API base URL (usually no need to change)
NEXT_PUBLIC_BASE_API_URL=https://api.heygen.com

# Avatar IDs
NEXT_PUBLIC_HEYGEN_AVATAR_ID=Katya_CasualLook_public  # Mobile avatar (portrait)
NEXT_PUBLIC_HEYGEN_DESKTOP_AVATAR_ID=Katya_Chair_Sitting_public  # Desktop avatar (landscape)

# Voice ID for TTS
NEXT_PUBLIC_HEYGEN_VOICE_ID=0e69c649917e4a6da0f9a9e1fe02f498

# Knowledge base ID (Clara's skincare database)
NEXT_PUBLIC_HEYGEN_KNOWLEDGE_ID=251ae2b8b812448d9d03efbc354c9b98


# ==================================================
# Deepgram Configuration (Required for STT)
# ==================================================

# Deepgram API key - Get from https://console.deepgram.com/
# Used for both Nova-3 (Spanish) and Flux (English only)
DEEPGRAM_API_KEY=your_deepgram_api_key_here
NEXT_PUBLIC_DEEPGRAM_API_KEY=your_deepgram_api_key_here


# ==================================================
# Authentication (Optional)
# ==================================================

# Enable password protection (true/false)
NEXT_PUBLIC_AUTH_ENABLED=false

# Access password (if auth enabled)
NEXT_PUBLIC_ACCESS_PASSWORD=your_password_here


# ==================================================
# Additional Services (Optional)
# ==================================================

# OpenAI API key (for additional LLM processing if needed)
OPENAI_API_KEY=your_openai_api_key_here


# ==================================================
# Shopify Integration (Optional)
# ==================================================

# Shopify HMAC secret for webhook validation AND FASE 2 Liquid integration
# CRITICAL: This must EXACTLY match shop.metafields.clara.hmac_secret in Shopify Admin
# Generate with: openssl rand -hex 32
# After generation, set the same value in Shopify:
#   Admin → Settings → Custom data → Metafields → Store → clara.hmac_secret
SHOPIFY_HMAC_SECRET=your_hmac_secret_here

# Your Shopify store domain (e.g., store.myshopify.com)
SHOPIFY_STORE_DOMAIN=your-store.myshopify.com

# Shopify Admin API access token
# Required scopes: read_customers, read_orders
SHOPIFY_ADMIN_ACCESS_TOKEN=your_admin_access_token_here


# ==================================================
# Conversation System - Feature Flags (Optional)
# ==================================================

# Enable Deepgram Flux streaming STT (recommended)
NEXT_PUBLIC_ENABLE_STREAMING_STT=true

# Enable Claude streaming responses
NEXT_PUBLIC_ENABLE_STREAMING_LLM=true

# Enable barge-in (user can interrupt avatar)
NEXT_PUBLIC_ENABLE_BARGE_IN=true

# Show interim transcripts in UI
NEXT_PUBLIC_ENABLE_INTERIM_TRANSCRIPTS=true

# Enable chunked sending to HeyGen (sentence-by-sentence)
NEXT_PUBLIC_ENABLE_CHUNKED_HEYGEN=false

# Enable response caching for common queries
NEXT_PUBLIC_ENABLE_RESPONSE_CACHE=false

# Enable automatic fallback to HeyGen built-in on failure
NEXT_PUBLIC_ENABLE_AUTO_FALLBACK=true

# Enable retry logic with exponential backoff
NEXT_PUBLIC_ENABLE_RETRY_LOGIC=true


# ==================================================
# Deepgram Nova-3 Settings (PRIMARY - Spanish Support)
# ==================================================

# ✅ Nova-3 is the default provider (supports Spanish es-419)
# Nova-3 preset: 'standard' | 'lowLatency' | 'highReliability' | 'conversational'
# - standard: 500ms endpointing (recommended for most use cases)
# - lowLatency: 300ms endpointing (faster response for customer service)
# - highReliability: 800ms endpointing (more certainty for medical/legal)
# - conversational: 500ms endpointing (balanced for natural conversations)
NEXT_PUBLIC_NOVA3_PRESET=standard

# Log Nova-3 events to console (for debugging)
NEXT_PUBLIC_LOG_NOVA3_EVENTS=false


# ==================================================
# Deepgram Flux Settings (ENGLISH ONLY - Low Priority)
# ==================================================

# ⚠️ WARNING: Flux only supports English (flux-general-en)
# ⚠️ For Spanish support, use Nova-3 (above)
#
# Flux preset: 'simple' | 'lowLatency' | 'highReliability' | 'complex'
# - simple: EndOfTurn only (recommended for starting)
# - lowLatency: Enables EagerEndOfTurn for faster responses
# - highReliability: Higher thresholds for more certainty
# - complex: Balanced for complex processing (RAG + tools)
NEXT_PUBLIC_FLUX_PRESET=simple

# Custom Flux settings (overrides preset if set)
# NEXT_PUBLIC_EOT_THRESHOLD=0.7  # EndOfTurn confidence (0.5-0.9)
# NEXT_PUBLIC_EOT_TIMEOUT_MS=6000  # Silence timeout (500-10000ms)
# NEXT_PUBLIC_EAGER_EOT_THRESHOLD=0.4  # EagerEndOfTurn confidence (enables low-latency mode)


# ==================================================
# Debugging & Monitoring (Optional)
# ==================================================

# Log latency metrics to console
NEXT_PUBLIC_LOG_LATENCY=false

# Log all transcripts to console
NEXT_PUBLIC_LOG_TRANSCRIPTS=false

# Log state transitions
NEXT_PUBLIC_LOG_STATE_TRANSITIONS=false

# Log Flux turn events
NEXT_PUBLIC_LOG_FLUX_EVENTS=false

# Send analytics events
NEXT_PUBLIC_ENABLE_ANALYTICS=false


# ==================================================
# Timing Configuration (Optional - Advanced)
# ==================================================

# Barge-in detection debounce (ms)
NEXT_PUBLIC_BARGE_IN_DEBOUNCE_MS=100

# Maximum wait for LLM response (ms)
NEXT_PUBLIC_LLM_TIMEOUT_MS=10000

# Maximum wait for STT response (ms)
NEXT_PUBLIC_STT_TIMEOUT_MS=5000
